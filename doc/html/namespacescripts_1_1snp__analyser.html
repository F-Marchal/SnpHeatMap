<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SNPHeatMap: scripts.snp_analyser Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SNPHeatMap
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescripts.html">scripts</a></li><li class="navelem"><a class="el" href="namespacescripts_1_1snp__analyser.html">snp_analyser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">scripts.snp_analyser Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adeac89b00710badfd4b3237dbaf60143"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#adeac89b00710badfd4b3237dbaf60143">help_usage</a> ()</td></tr>
<tr class="separator:adeac89b00710badfd4b3237dbaf60143"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade04a999d91ef2f4fd63c7ba37a89d13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#ade04a999d91ef2f4fd63c7ba37a89d13">filter_integer_greater_or_equal_to_0_ignore_0</a> (str or int key, dict dictionary=None)</td></tr>
<tr class="memdesc:ade04a999d91ef2f4fd63c7ba37a89d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test if the value in front of the key <code>key</code> inside <code>dictionary</code> can be cast into an integer bigger than 0.  <a href="namespacescripts_1_1snp__analyser.html#ade04a999d91ef2f4fd63c7ba37a89d13">More...</a><br /></td></tr>
<tr class="separator:ade04a999d91ef2f4fd63c7ba37a89d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a418dc87e5e67160d929060f817baffbf"><td class="memItemLeft" align="right" valign="top">dict[int, dict[str, int]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#a418dc87e5e67160d929060f817baffbf">compile_gene_snp</a> (dict[str, any] genes_snp, dict[int, dict[str, int]] dict_of_number=None, str group=&quot;None&quot;)</td></tr>
<tr class="memdesc:a418dc87e5e67160d929060f817baffbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract the number of snp of all genes contained in <code>genes_snp</code> (snp = <code>genes_snp</code> 's values).  <a href="namespacescripts_1_1snp__analyser.html#a418dc87e5e67160d929060f817baffbf">More...</a><br /></td></tr>
<tr class="separator:a418dc87e5e67160d929060f817baffbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488cd5204ce26577c1dadc42a94ef689"><td class="memItemLeft" align="right" valign="top">(list[list[int]], list[int])&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#a488cd5204ce26577c1dadc42a94ef689">make_data_matrix</a> (dict[int, dict[str, int]] compiled_dict, str group, *str groups, bool simplified=True, int max_length=None)</td></tr>
<tr class="memdesc:a488cd5204ce26577c1dadc42a94ef689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use a compiled dict from <a class="el" href="namespacescripts_1_1snp__analyser.html#a418dc87e5e67160d929060f817baffbf">compile_gene_snp</a> to create a matrix of value.  <a href="namespacescripts_1_1snp__analyser.html#a488cd5204ce26577c1dadc42a94ef689">More...</a><br /></td></tr>
<tr class="separator:a488cd5204ce26577c1dadc42a94ef689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43eeb20df61252728f8d752e284cb73"><td class="memItemLeft" align="right" valign="top">list[int]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#ac43eeb20df61252728f8d752e284cb73">generate_cumulative_list</a> (list[int] or list[float] list_of_numbers, reversed_=False)</td></tr>
<tr class="memdesc:ac43eeb20df61252728f8d752e284cb73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a list of number and sum all values.  <a href="namespacescripts_1_1snp__analyser.html#ac43eeb20df61252728f8d752e284cb73">More...</a><br /></td></tr>
<tr class="separator:ac43eeb20df61252728f8d752e284cb73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c85e08ef7c70327a701af90c73e6016"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#a9c85e08ef7c70327a701af90c73e6016">main</a> (str path, str name_column, str snp_column, str file_separator=&quot;\t&quot;, bool simplified=True, int max_length=None, str output_path=&quot;output&quot;, bool output_warning=True, str job_name=None, bool global_heatmap=True, bool quantitative_barchart=False, bool cumulative_barchart=False, bool cumulative_heatmap=False, bool tsv=False, bool png=False, bool show=False, bool svg=True, bool sort_by_name=True, bool uniform_y=True, int show_values=-1)</td></tr>
<tr class="memdesc:a9c85e08ef7c70327a701af90c73e6016"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a number of chart related to snp analysis.  <a href="namespacescripts_1_1snp__analyser.html#a9c85e08ef7c70327a701af90c73e6016">More...</a><br /></td></tr>
<tr class="separator:a9c85e08ef7c70327a701af90c73e6016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0b10769cd6420b8d77deeae79edf3d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#a1c0b10769cd6420b8d77deeae79edf3d">main_using_getopts</a> (list[str] or str argv)</td></tr>
<tr class="separator:a1c0b10769cd6420b8d77deeae79edf3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2b2001cde7d78ae8ec73034a861a070c"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#a2b2001cde7d78ae8ec73034a861a070c">__author__</a> = &quot;Marchal Florent&quot;</td></tr>
<tr class="separator:a2b2001cde7d78ae8ec73034a861a070c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac21aa5e5cf3c82fa9366ab52940d95"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#abac21aa5e5cf3c82fa9366ab52940d95">__credits__</a> = [&quot;Florent Marchal&quot;, &quot;Vetea Jacot&quot;, &quot;Concetta Burgarella&quot;, &quot;Vincent Ranwez&quot;, &quot;Nathalie Chantret&quot;]</td></tr>
<tr class="separator:abac21aa5e5cf3c82fa9366ab52940d95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac2b2ee6f54dea210e5b0652f80492c"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescripts_1_1snp__analyser.html#adac2b2ee6f54dea210e5b0652f80492c">__getopts__</a></td></tr>
<tr class="separator:adac2b2ee6f54dea210e5b0652f80492c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a418dc87e5e67160d929060f817baffbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a418dc87e5e67160d929060f817baffbf">&#9670;&nbsp;</a></span>compile_gene_snp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict[int, dict[str, int]] scripts.snp_analyser.compile_gene_snp </td>
          <td>(</td>
          <td class="paramtype">dict[str, any]&#160;</td>
          <td class="paramname"><em>genes_snp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict[int, dict[str, int]] &#160;</td>
          <td class="paramname"><em>dict_of_number</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>group</em> = <code>&quot;None&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extract the number of snp of all genes contained in <code>genes_snp</code> (snp = <code>genes_snp</code> 's values). </p>
<p>Each number of snp is stored inside a new dictionary (<code>dict_of_number</code> 's keys). A dict is created in front of all keys (i.e. snp number). This dict contain the <code>group</code> (key) and the number of occurrences of this snp number for this key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">genes_snp</td><td>: dict[str,any] =&gt; A dictionary from extract_data_from_table. e.g. {gene_1: number_of_snp_in_gene_1} =&gt;<div class="fragment"><div class="line">{<span class="stringliteral">&quot;gene1&quot;</span>: 3}  </div>
</div><!-- fragment --> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Values (number of snp) inside this dict are trans typed into integers. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dict_of_number</td><td>: dict[int, dict[str,int]] = None. A dict with the same structure as dictionaries returned by this function. </td></tr>
    <tr><td class="paramname">group</td><td>: str = "None" =&gt; Each occurrence of a number of snp increment the counter related to this group.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dict[int, dict[str, int]] =&gt; A dictionary that store all number of snp found along with the number of occurrences<div class="fragment"><div class="line">{number_of_snp_1 : {group1: number_of_occurrences_of_number_of_snp_1_in_this_group} </div>
</div><!-- fragment --></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>values <code>genes_snp</code> are cast into integer. Also, there is no verification made to see if the values are positive. We assume that data has been filtered using <a class="el" href="namespacescripts_1_1snp__analyser.html#ade04a999d91ef2f4fd63c7ba37a89d13">filter_integer_greater_or_equal_to_0_ignore_0</a> in extract_data_from_table </dd></dl>

</div>
</div>
<a id="ade04a999d91ef2f4fd63c7ba37a89d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade04a999d91ef2f4fd63c7ba37a89d13">&#9670;&nbsp;</a></span>filter_integer_greater_or_equal_to_0_ignore_0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool scripts.snp_analyser.filter_integer_greater_or_equal_to_0_ignore_0 </td>
          <td>(</td>
          <td class="paramtype">str or int&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict &#160;</td>
          <td class="paramname"><em>dictionary</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test if the value in front of the key <code>key</code> inside <code>dictionary</code> can be cast into an integer bigger than 0. </p>
<p>Meant to be used inside extract_data_from_table as a "filter_" using a lambda.</p><ul>
<li>value == 0 : Line is ignored</li>
<li>value &gt; 0 : Line is kept</li>
<li>Value &lt; 0 : Error is raised</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>does not support "1.0 nor "1,0" format</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>: str =&gt; A key contained by <code>dictionary</code>. </td></tr>
    <tr><td class="paramname">dictionary</td><td>: dict = None =&gt; A dictionary that contain <code>key</code>. If None, the function will assume that <div class="fragment"><div class="line">dictionary = {key: key} </div>
</div><!-- fragment --></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool =&gt; True : Yes False : value equal to 0 @raise ValueError when the value is an integer lower than 0 </dd></dl>

</div>
</div>
<a id="ac43eeb20df61252728f8d752e284cb73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac43eeb20df61252728f8d752e284cb73">&#9670;&nbsp;</a></span>generate_cumulative_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[int] scripts.snp_analyser.generate_cumulative_list </td>
          <td>(</td>
          <td class="paramtype">list[int] or list[float]&#160;</td>
          <td class="paramname"><em>list_of_numbers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reversed_</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a list of number and sum all values. </p>
<div class="fragment"><div class="line">[0, 5, 6, 1] =&gt; [0+5+6+1, 5+6+1, 6+1, 1] == [12, 12, 7, 1]</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">list_of_numbers</td><td>: list[int] or list[float] =&gt; A list that contain numbers. </td></tr>
    <tr><td class="paramname">reversed_</td><td>= False =&gt; Do the accumulation start at the end and end at the beginning.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>list[int] =&gt; A list of number </dd></dl>

</div>
</div>
<a id="adeac89b00710badfd4b3237dbaf60143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeac89b00710badfd4b3237dbaf60143">&#9670;&nbsp;</a></span>help_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def scripts.snp_analyser.help_usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9c85e08ef7c70327a701af90c73e6016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c85e08ef7c70327a701af90c73e6016">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int scripts.snp_analyser.main </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name_column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>snp_column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>file_separator</em> = <code>&quot;\t&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>simplified</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>max_length</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>output_path</em> = <code>&quot;output&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>output_warning</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>job_name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>global_heatmap</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>quantitative_barchart</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>cumulative_barchart</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>cumulative_heatmap</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>tsv</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>png</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>show</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>svg</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>sort_by_name</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>uniform_y</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>show_values</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a number of chart related to snp analysis. </p>
<p>As an example we will consider the following flatFile : </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">GeneName   </th><th class="markdownTableHeadNone">GeneID   </th><th class="markdownTableHeadNone">NumberOfSnp   </th><th class="markdownTableHeadNone">GeneSize    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Gene1   </td><td class="markdownTableBodyNone">123   </td><td class="markdownTableBodyNone">5   </td><td class="markdownTableBodyNone">1000    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Gene2   </td><td class="markdownTableBodyNone">456   </td><td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">2000   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>: str =&gt; Path that lead to a number of flatfile :<ul>
<li>.json : {complete file path : Species name}</li>
<li>folder : Use file inside the folder (does not scan the folder recursively)</li>
</ul>
</td></tr>
    <tr><td class="paramname">name_column</td><td>: str =&gt; Name of the column that contain a primary key e.g. GeneName, GeneID. If two line have the same "primary key", the last one will be used. </td></tr>
    <tr><td class="paramname">snp_column</td><td>: str =&gt; Name of the column that contain a count of snp e.g. NumberOfSnp </td></tr>
    <tr><td class="paramname">file_separator</td><td>: str = "\t" =&gt; The separator used in all flat file considered. </td></tr>
    <tr><td class="paramname">simplified</td><td>: bool = True =&gt; Do number of snp represented by 0 gene are deleted from the result </td></tr>
    <tr><td class="paramname">max_length</td><td>: int = None =&gt; Maximum length of each graph. keep the nth first result. Should be greater or equal to 1 otherwise, it would be ignored. </td></tr>
    <tr><td class="paramname">output_path</td><td>: str = "output" =&gt; Where graphs are saved. </td></tr>
    <tr><td class="paramname">output_warning</td><td>: bool = True =&gt; Ask confirmation when at least one file can be erased by this program. </td></tr>
    <tr><td class="paramname">job_name</td><td>: str = None =&gt; A name for this execution. (This creates a separated folder in <code>output_path</code>). Default = "unnamed" </td></tr>
    <tr><td class="paramname">global_heatmap</td><td>: bool = True =&gt; Do a heatmap that is the combination of all cumulative_heatmap is created </td></tr>
    <tr><td class="paramname">quantitative_barchart</td><td>: bool = False =&gt; Do this program create a barchart of snp distribution for each file (Number of gene that have n snp) </td></tr>
    <tr><td class="paramname">cumulative_barchart</td><td>: bool = False =&gt; Do this program create a barchart of snp distribution for each file ? (Number of gene that have AT LEAST n snp) </td></tr>
    <tr><td class="paramname">cumulative_heatmap</td><td>: bool = False =&gt; Do this program create a heatmap of snp distribution for each file ? (Number of gene that have AT LEAST n snp) </td></tr>
    <tr><td class="paramname">tsv</td><td>: bool = False =&gt; Do values used for chart are saved in a flatfile (.tsv) </td></tr>
    <tr><td class="paramname">png</td><td>: bool = False =&gt; Do created charts are saved as png </td></tr>
    <tr><td class="paramname">show</td><td>: bool = False =&gt; Do created charts are saved are shown </td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Each time a chart is shown, the program stop. It will resume when the chart is closed. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">svg</td><td>: bool = True =&gt; Do created charts are saved as svg (vectorize image) </td></tr>
    <tr><td class="paramname">sort_by_name</td><td>: bool = True =&gt; Do species are sorted in lexicographic order ? </td></tr>
    <tr><td class="paramname">uniform_y</td><td>: bool = True =&gt; Do all barchart share the same y-axis ? </td></tr>
    <tr><td class="paramname">show_values</td><td>: int = None =&gt; If greater or equal to 0, all cells will contain theirs values. if lower than 0, text in cell in automatically determined (can be ugly when show is True, but assure that the text is good in png and svg). If None, nothing happen.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int =&gt; if greater than 0, an error occurred.<ul>
<li>1 job stopped by user</li>
<li>2 no species found </li>
</ul>
</dd></dl>

</div>
</div>
<a id="a1c0b10769cd6420b8d77deeae79edf3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c0b10769cd6420b8d77deeae79edf3d">&#9670;&nbsp;</a></span>main_using_getopts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def scripts.snp_analyser.main_using_getopts </td>
          <td>(</td>
          <td class="paramtype">list[str] or str&#160;</td>
          <td class="paramname"><em>argv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">@brief start @ref snp_charts.main using a string or sys.argv[1:]
Example :
    - main_using_getopts(sys.argv[1:])
    - main_using_getopts("name_column snp_column tests/TargetedFiles.json -m 20 -gv -w -j Tests -e -1")

@param argv : list[str] or str =&gt; List of argument (strings). Usually sys.argv[1:].
@note If the first values are not known option (option in @p getopts_options), the function will consider that
those values correspond to the nth first option that require an argument in @p getopts_options.
In below example, you can give two arguments. The first will be matched with "Alpha" and the last with "Beta".
@code
argv = ["5", "6"]
getopts_options = {
    "Alpha=":               ("a:", None),
    "Beta=:                 ('b', (0, int)),
    "Gamma":                ("g", ("data/", str)),
    "Delta=":               ("d:", (0, lambda integer : int(integer) - 1)),
}
@endcode
@return int =&gt; exit code
</pre> 
</div>
</div>
<a id="a488cd5204ce26577c1dadc42a94ef689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a488cd5204ce26577c1dadc42a94ef689">&#9670;&nbsp;</a></span>make_data_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> (list[list[int]], list[int]) scripts.snp_analyser.make_data_matrix </td>
          <td>(</td>
          <td class="paramtype">dict[int, dict[str, int]]&#160;</td>
          <td class="paramname"><em>compiled_dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*str&#160;</td>
          <td class="paramname"><em>groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>simplified</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>max_length</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use a compiled dict from <a class="el" href="namespacescripts_1_1snp__analyser.html#a418dc87e5e67160d929060f817baffbf">compile_gene_snp</a> to create a matrix of value. </p>
<p>Each lines represent one group (<code>groups</code> &amp; <code>group</code>). Each line contain the number of genes that contain at least n genes</p>
<dl class="section note"><dt>Note</dt><dd>Only groups specified in <code>groups</code> and <code>group</code> are extracted from <code>compiled_dict</code> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>For below example we will consider that :<ul>
<li><div class="fragment"><div class="line">compiled_dict = {1: {<span class="stringliteral">&quot;E. coli&quot;</span>: 5},</div>
<div class="line">                          2: {<span class="stringliteral">&quot;E. coli&quot;</span>: 3, <span class="stringliteral">&quot;HIV&quot;</span>: 4},</div>
<div class="line">                          3: {<span class="stringliteral">&quot;HIV&quot;</span>: 2}</div>
<div class="line">                          4: {<span class="stringliteral">&quot;E. coli&quot;</span>: 1, <span class="stringliteral">&quot;HIV&quot;</span>: 1}</div>
<div class="line">                          } </div>
</div><!-- fragment --> </li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compiled_dict</td><td>: dict[int,dict[str,int]] =&gt; a compiled dict from <a class="el" href="namespacescripts_1_1snp__analyser.html#a418dc87e5e67160d929060f817baffbf">compile_gene_snp</a> </td></tr>
    <tr><td class="paramname">group</td><td>: str =&gt; A group name (e.g. Species name : "E. coli") </td></tr>
    <tr><td class="paramname">*groups</td><td>: str =&gt; Same as <code>group</code>. Additional species name. </td></tr>
    <tr><td class="paramname">simplified</td><td>: bool = True =&gt; Do number of snp represented by 0 gene are deleted from the result ? </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This the presence / absence of a number is affected by other groups<ul>
<li>with group="E. coli":<ul>
<li>If True:<div class="fragment"><div class="line">([[5, 3, 1]], [1, 2, 4]) </div>
</div><!-- fragment --></li>
<li>If False:<div class="fragment"><div class="line">([[5, 3, 0, 1]], [1, 2, 3, 4]) </div>
</div><!-- fragment --></li>
</ul>
</li>
<li>with group="E. coli" and groups= ("HIV", ):<ul>
<li>If True:<div class="fragment"><div class="line">([[5, 3, 0, 1], [0, 4, 2, 1]], [1, 2, 4])  </div>
</div><!-- fragment --> </li>
</ul>
</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_length</td><td>: int = None =&gt; Limit the length of each lines of the matrix. should be greater than 0. If not, max_length is ignored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>(list[list[int]], list[int]) =&gt; Return a matrix and a list. Each lines of the matrix represent the number of genes of a species (group) that contain n snp : If the position 1 of a line is equal to 4, there is 4 genes in the selected species that contain list[i] snp. The y axes can be labeled using <code>group</code> and <code>groups</code> (order in conserved) and the x-axis is labeled by the list[int].</dd></dl>
<dl class="section note"><dt>Note</dt><dd>For some return example, see <code>simplified</code> for return example </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2b2001cde7d78ae8ec73034a861a070c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b2001cde7d78ae8ec73034a861a070c">&#9670;&nbsp;</a></span>__author__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string scripts.snp_analyser.__author__ = &quot;Marchal Florent&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abac21aa5e5cf3c82fa9366ab52940d95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abac21aa5e5cf3c82fa9366ab52940d95">&#9670;&nbsp;</a></span>__credits__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list scripts.snp_analyser.__credits__ = [&quot;Florent Marchal&quot;, &quot;Vetea Jacot&quot;, &quot;Concetta Burgarella&quot;, &quot;Vincent Ranwez&quot;, &quot;Nathalie Chantret&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adac2b2ee6f54dea210e5b0652f80492c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac2b2ee6f54dea210e5b0652f80492c">&#9670;&nbsp;</a></span>__getopts__</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dictionary scripts.snp_analyser.__getopts__</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
